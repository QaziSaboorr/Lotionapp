{"ast":null,"code":"import _toConsumableArray from\"/Users/saboorali/Desktop/Winter 2023/381/assignment-06-lotion-QaziSaboorr/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/saboorali/Desktop/Winter 2023/381/assignment-06-lotion-QaziSaboorr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import\"./index.css\";import NoteEditor from\"./edit\";import Sidebar from\"./Sidebar\";import Header from\"./Head\";import NoteViewer from\"./Viewer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showSidebar=_useState2[0],setShowSidebar=_useState2[1];var toggleSidebar=function toggleSidebar(){return setShowSidebar(!showSidebar);};var _useState3=useState(localStorage.notes?JSON.parse(localStorage.notes):[]),_useState4=_slicedToArray(_useState3,2),notes=_useState4[0],setNotes=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),activeNote=_useState6[0],setActiveNote=_useState6[1];useEffect(function(){localStorage.setItem(\"notes\",JSON.stringify(notes));},[notes]);var onPreviewNote=function onPreviewNote(noteId){setActiveNote(noteId);};var onEditNote=function onEditNote(noteId){setActiveNote(noteId);};var onAddNote=function onAddNote(){var newNote={id:notes.length+1,title:\"Untitled Note\",body:\"\",lastModified:Date.now()};setNotes(function(prevNotes){return[newNote].concat(_toConsumableArray(prevNotes));});return newNote.id;};var onDeleteNote=function onDeleteNote(noteId,navigate){var confirmed=window.confirm(\"Are you sure you want to delete this note?\");if(confirmed){var newNotes=notes.filter(function(_ref){var id=_ref.id;return id!==noteId;});setNotes(newNotes);if(activeNote===noteId){var index=newNotes.findIndex(function(_ref2){var id=_ref2.id;return id===noteId;});if(index===newNotes.length-1){var _newNotes;var arr=(_newNotes=newNotes[index-1])===null||_newNotes===void 0?void 0:_newNotes.id;setActiveNote(arr||false);return arr;}else{var _newNotes2;var arr2=(_newNotes2=newNotes[index+1])===null||_newNotes2===void 0?void 0:_newNotes2.id;setActiveNote(arr2||false);return arr2;}}}};var onUpdateNote=function onUpdateNote(updatedNote){var updatedNotesArr=notes.map(function(note){if(note.id===updatedNote.id){return updatedNote;}return note;});setNotes(updatedNotesArr);};var getActiveNote=function getActiveNote(){return activeNote?notes.find(function(_ref3){var id=_ref3.id;return id===parseInt(activeNote);}):undefined;};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{toggleSidebar:toggleSidebar}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/notes\"})}),/*#__PURE__*/_jsx(Route,{path:\"/notes\",element:/*#__PURE__*/_jsx(Layout,{notes:notes,onAddNote:onAddNote,setActiveNote:setActiveNote,activeNote:activeNote,onEditNote:onEditNote,showSidebar:showSidebar,children:/*#__PURE__*/_jsx(\"div\",{className:\"no-active-note\",children:\"create or select a note\"})})}),/*#__PURE__*/_jsx(Route,{path:\"/notes/:index/edit\",element:notes.length?/*#__PURE__*/_jsx(Layout,{notes:notes,onAddNote:onAddNote,setActiveNote:setActiveNote,activeNote:activeNote,onEditNote:onEditNote,showSidebar:showSidebar,children:activeNote?/*#__PURE__*/_jsx(NoteEditor,{activeNote:getActiveNote(),onUpdateNote:onUpdateNote,onPreviewNote:onPreviewNote,onDeleteNote:onDeleteNote}):/*#__PURE__*/_jsx(\"div\",{className:\"no-active-note\",children:\"create or select a note\"})}):/*#__PURE__*/_jsx(Navigate,{to:\"/notes\"})}),/*#__PURE__*/_jsx(Route,{path:\"/notes/:index\",element:notes.length?/*#__PURE__*/_jsx(Layout,{notes:notes,onAddNote:onAddNote,setActiveNote:setActiveNote,activeNote:activeNote,onEditNote:onEditNote,showSidebar:showSidebar,children:activeNote?/*#__PURE__*/_jsx(NoteViewer,{activeNote:getActiveNote(),onEditNote:onEditNote,onDeleteNote:onDeleteNote}):/*#__PURE__*/_jsx(\"div\",{className:\"no-active-note\",children:\"create or select a note\"})}):/*#__PURE__*/_jsx(Navigate,{to:\"/notes\"})})]})]})});}function Layout(_ref4){var notes=_ref4.notes,onAddNote=_ref4.onAddNote,setActiveNote=_ref4.setActiveNote,onEditNote=_ref4.onEditNote,children=_ref4.children,activeNote=_ref4.activeNote,showSidebar=_ref4.showSidebar;return/*#__PURE__*/_jsxs(\"div\",{className:\"App \".concat(showSidebar?\"sidebar\":\"\"),children:[showSidebar&&/*#__PURE__*/_jsx(Sidebar,{notes:notes,onAddNote:onAddNote,activeNote:activeNote,setActiveNote:setActiveNote,onEditNote:onEditNote}),children]});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","Navigate","useEffect","useState","NoteEditor","Sidebar","Header","NoteViewer","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","showSidebar","setShowSidebar","toggleSidebar","_useState3","localStorage","notes","JSON","parse","_useState4","setNotes","_useState5","_useState6","activeNote","setActiveNote","setItem","stringify","onPreviewNote","noteId","onEditNote","onAddNote","newNote","id","length","title","body","lastModified","Date","now","prevNotes","concat","_toConsumableArray","onDeleteNote","navigate","confirmed","window","confirm","newNotes","filter","_ref","index","findIndex","_ref2","_newNotes","arr","_newNotes2","arr2","onUpdateNote","updatedNote","updatedNotesArr","map","note","getActiveNote","find","_ref3","parseInt","undefined","children","path","element","to","Layout","className","_ref4"],"sources":["/Users/saboorali/Desktop/Winter 2023/381/assignment-06-lotion-QaziSaboorr/src/App.js"],"sourcesContent":["import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport \"./index.css\";\nimport NoteEditor from \"./edit\";\nimport Sidebar from \"./Sidebar\";\nimport Header from \"./Head\";\nimport NoteViewer from \"./Viewer\";\n\nfunction App() {\n  const [showSidebar, setShowSidebar] = useState(true);\n  const toggleSidebar = () => setShowSidebar(!showSidebar);\n  const [notes, setNotes] = useState(\n    localStorage.notes ? JSON.parse(localStorage.notes) : []\n  );\n  const [activeNote, setActiveNote] = useState(false);\n\n  useEffect(() => {\n    localStorage.setItem(\"notes\", JSON.stringify(notes));\n  }, [notes]);\n\n  const onPreviewNote = (noteId) => {\n    setActiveNote(noteId);\n  };\n\n  const onEditNote = (noteId) => {\n    setActiveNote(noteId);\n  };\n\n  const onAddNote = () => {\n    const newNote = {\n      id: notes.length + 1,\n      title: \"Untitled Note\",\n      body: \"\",\n      lastModified: Date.now(),\n    };\n    setNotes((prevNotes) => [newNote, ...prevNotes]);\n    return newNote.id;\n  };\n\n  const onDeleteNote = (noteId, navigate) => {\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this note?\"\n    );\n    if (confirmed) {\n      const newNotes = notes.filter(({ id }) => id !== noteId);\n      setNotes(newNotes);\n\n      if (activeNote === noteId) {\n        const index = newNotes.findIndex(({ id }) => id === noteId);\n        if (index === newNotes.length - 1) {\n          const arr = newNotes[index - 1]?.id;\n          setActiveNote(arr || false);\n          return arr;\n        } else {\n          const arr2 = newNotes[index + 1]?.id;\n          setActiveNote(arr2 || false);\n          return arr2;\n        }\n      }\n    }\n  };\n\n  const onUpdateNote = (updatedNote) => {\n    const updatedNotesArr = notes.map((note) => {\n      if (note.id === updatedNote.id) {\n        return updatedNote;\n      }\n      return note;\n    });\n    setNotes(updatedNotesArr);\n  };\n\n  const getActiveNote = () => {\n    return activeNote\n      ? notes.find(({ id }) => id === parseInt(activeNote))\n      : undefined;\n  };\n\n  return (\n    <Router>\n      <div>\n        <Header toggleSidebar={toggleSidebar} />\n        <Routes>\n          <Route path=\"/\" element={<Navigate to=\"/notes\" />} />\n          <Route\n            path=\"/notes\"\n            element={\n              <Layout\n                notes={notes}\n                onAddNote={onAddNote}\n                setActiveNote={setActiveNote}\n                activeNote={activeNote}\n                onEditNote={onEditNote}\n                showSidebar={showSidebar}\n              >\n                <div className=\"no-active-note\">create or select a note</div>\n              </Layout>\n            }\n          />\n          <Route\n            path=\"/notes/:index/edit\"\n            element={\n              notes.length ? (\n                <Layout\n                  notes={notes}\n                  onAddNote={onAddNote}\n                  setActiveNote={setActiveNote}\n                  activeNote={activeNote}\n                  onEditNote={onEditNote}\n                  showSidebar={showSidebar}\n                >\n                  {activeNote ? (\n                    <NoteEditor\n                      activeNote={getActiveNote()}\n                      onUpdateNote={onUpdateNote}\n                      onPreviewNote={onPreviewNote}\n                      onDeleteNote={onDeleteNote}\n                    />\n                  ) : (\n                    <div className=\"no-active-note\">\n                      create or select a note\n                    </div>\n                  )}\n                </Layout>\n              ) : (\n                <Navigate to=\"/notes\" />\n              )\n            }\n          />\n          <Route\n            path=\"/notes/:index\"\n            element={\n              notes.length ? (\n                <Layout\n                  notes={notes}\n                  onAddNote={onAddNote}\n                  setActiveNote={setActiveNote}\n                  activeNote={activeNote}\n                  onEditNote={onEditNote}\n                  showSidebar={showSidebar}\n                >\n                  {activeNote ? (\n                    <NoteViewer\n                      activeNote={getActiveNote()}\n                      onEditNote={onEditNote}\n                      onDeleteNote={onDeleteNote}\n                    />\n                  ) : (\n                    <div className=\"no-active-note\">\n                      create or select a note\n                    </div>\n                  )}\n                </Layout>\n              ) : (\n                <Navigate to=\"/notes\" />\n              )\n            }\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nfunction Layout({\n  notes,\n  onAddNote,\n  setActiveNote,\n  onEditNote,\n  children,\n  activeNote,\n  showSidebar,\n}) {\n  return (\n    <div className={`App ${showSidebar ? \"sidebar\" : \"\"}`}>\n      {showSidebar && (\n        <Sidebar\n          notes={notes}\n          onAddNote={onAddNote}\n          activeNote={activeNote}\n          setActiveNote={setActiveNote}\n          onEditNote={onEditNote}\n        />\n      )}\n      {children}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}